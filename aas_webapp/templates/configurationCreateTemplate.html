<div class="card m-0 h-100">
    <!-- Header -->
    <div class="card-header text-left">
        <div class="btn btn-primary" ng-class="{'active': steps == STEP_ENUM.STEP1, 'disabled': steps != STEP_ENUM.STEP1}"><span class="badge badge-info">1</span> Selezione isole</div>
        <div class="btn btn-primary" ng-class="{'active': steps == STEP_ENUM.STEP2, 'disabled': steps != STEP_ENUM.STEP2}"><span class="badge badge-info">2</span> Mapping terminali</div>
        <div class="btn btn-primary" ng-class="{'active': steps == STEP_ENUM.STEP3, 'disabled': steps != STEP_ENUM.STEP3}"><span class="badge badge-info">3</span> Selezione processi</div>
    </div>

    <!-- Body -->
    <div class="card-body h-100">
        <!-- Init -->
        <div class="h-100" ng-show="steps == STEP_ENUM.INIT">
            <div class="text-left">
                <h6>Configura la fabbrica Fischertechnik a tuo piacimento tramite la wizard guidata</h6>
                <span>La wizard ti consentirà di personalizzare il tuo processo produttivo sulla base degli elementi disponibili. <br>
                        • Nel primo passo potrai scegliere le sottoisole da considerare durante il processo produttivo. <br>
                        • Nel secondo passo potrai configurare il mapping tra i terminali del PLC e i terminali delle varie sottoisole (comunicazione sottoisole) <br>
                        • Nel terzo e ultimo passo potrai configurare quali elementi di ogni sottoisola tenere attivi durante il processo produttivo <br>
                        Al termine della wizard potrai salvare la tua configurazione personalizzata e scegliere se caricarla nella fabbrica Fischertechnik! <br>
                </span>
            </div>
            <div class="btn btn-info mt-4" ng-click="nextStep()">Inizia</div>
        </div>

        <!-- Step 1 -->
        <div class="h-100 row" ng-show="steps == STEP_ENUM.STEP1">
            <div class="col-4 text-left">
                <h5>Step 1 - Selezione isole di produzione</h5>
                <span>Clicca sulle isole desiderate per inserirle nella configurazione. Clicca nuovamente per rimuoverle.</span><br><br>
                <span>Isole selezionate:</span><br>
                <span ng-class="{'fa fa-times-circle text-danger': !selectedIsland.multiProcessingStation, 'fa fa-check-circle text-success': selectedIsland.multiProcessingStation}"></span> Multi Processing Station <br>
                <span ng-class="{'fa fa-times-circle text-danger': !selectedIsland.sortingLine, 'fa fa-check-circle text-success': selectedIsland.sortingLine}"></span> Sorting Line <br>
                <span ng-class="{'fa fa-times-circle text-danger': !selectedIsland.vacuumGripper, 'fa fa-check-circle text-success': selectedIsland.vacuumGripper}"></span> Vacuum Gripper <br>
                <span ng-class="{'fa fa-times-circle text-danger': !selectedIsland.automatedHighBayWarehouse, 'fa fa-check-circle text-success': selectedIsland.automatedHighBayWarehouse}"></span> Automated High Bay Warehouse <br>
            </div>
            <div class="col-8">
                <img id="factoryImageMap" src="rsc/img/factory2.png" alt="Fabbrica" usemap="#workmap" style="max-width:100%; height:auto">
                <map name="workmap">
                    <area shape="poly" href="#" island="MPS" coords="427,407, 267,350, 272,338, 330,280, 308,272, 376,218, 377,205, 386,210, 443,166, 500,181, 500,188, 502,188, 502,255, 555,271" alt="Multi Processing Station" ng-click="selectIsland(ISLAND_ENUM.MPS)">
                    <area shape="poly" href="#" island="SL" coords="30,295, 43,285, 42,265, 56,250, 56,245, 75,234, 75,225, 82,220, 106,225, 110,215, 192,242, 196,240, 255,260, 260,256, 320,277, 325,285, 227,370" alt="Sorting Line" ng-click="selectIsland(ISLAND_ENUM.SL)" ng-class="{'opacity50': selectedIsland.sortingLine}">
                    <area shape="poly" href="#" island="VG" coords="200,235, 200,215, 212,207, 230,213, 234,209, 234,192, 230,186, 230,127, 194,136, 185,128, 130,142, 132,173, 136,177, 136,184, 127,187, 120,185, 120,177, 123,172, 120,166, 118,137, 106,126, 110,121, 115,118, 117,110, 121,110, 123,117, 130,120, 143,116, 147,124, 183,114, 183,101, 193,99, 200,103, 227,96, 227,86, 221,84, 221,58, 262,50, 277,63, 281,63, 287,67, 287,73, 294,80, 300,80, 301,68, 310,67, 312,77, 330,87, 333,126, 321,136, 285,128, 285,168, 298,182, 300,188, 306,189, 310,184, 318,191, 332,190, 340,195, 340,210, 350,210, 375,215, 310,268" alt="Vacuum Gripper" ng-click="selectIsland(ISLAND_ENUM.VG)">
                    <area shape="poly" href="#" island="AHBW" coords="613,177, 575,166, 575,161, 570,160, 570,150, 540,141, 528,144, 520,150, 517,147, 516,132, 514,130, 516,96, 536,78, 541,71, 551,52, 552,41, 541,38, 541,28, 545,25, 545,14, 550,11, 549,8, 533,5, 527,9, 528,37, 517,47, 517,41, 521,36, 521,20, 500,16, 500,12, 494,11, 493,15, 483,14, 472,15, 468,18, 464,26, 466,31, 471,32, 466,37, 459,37, 458,53, 466,57, 467,62, 376,42, 367,48, 367,84, 361,86, 322,76, 318,78, 332,87, 336,129, 322,138, 293,132, 285,140, 285,166, 400,198, 443,164, 503,181, 505,227, 552,241" alt="Warehouse" ng-click="selectIsland(ISLAND_ENUM.AHBW)">
                </map>
            </div>
            
        </div>

        <!-- Step 2 -->
        <div class="h-100" ng-show="steps == STEP_ENUM.STEP2">
            <span>Step 2 (DA ELIMINARE)</span>
        </div>

        <!-- Step 3 -->
        <div class="h-100" ng-show="steps == STEP_ENUM.STEP3">
            <span>Step 3</span>
        </div>
    </div>
    

    <!-- Footer -->
    <div class="card-footer text-right">
        <button class="btn btn-secondary" ng-show="steps != STEP_ENUM.INIT" ng-disabled="steps == STEP_ENUM.STEP1" ng-click="previousStep()">Back</button>
        <button class="btn btn-primary" ng-show="steps != STEP_ENUM.INIT" 
            ng-disabled="steps == STEP_ENUM.STEP3 || (!selectedIsland.multiProcessingStation && !selectedIsland.sortingLine && !selectedIsland.vacuumGripper && !selectedIsland.automatedHighBayWarehouse)" 
            ng-click="nextStep()">Next</button>
    </div>
</div>